<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Saisyam's personal blog">
  <meta name="robots" content="index,follow" /> 
  <meta name="googlebot" content="index,follow" />
  <meta name="coverage" content="Worldwide" /> 
  <meta name="distribution" content="Global" /> 
  <meta name="HandheldFriendly" content="True" />
  <link rel="icon" href="images/favicon.ico" />
  <link rel="dns-prefetch" href="https://fonts.googleapis.com/">
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
  <link rel="manifest" href="images/site.webmanifest">

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Proven way to Fake Webcam in Test Automation with Python"/>
<meta name="twitter:description" content="To test web application with webcam we need to fake webcam with a video. We can use Chrome webdriver settings with Python Selenium or Splinter to do that."/>

  <meta property="og:title" content="Proven way to Fake Webcam in Test Automation with Python" />
<meta property="og:description" content="To test web application with webcam we need to fake webcam with a video. We can use Chrome webdriver settings with Python Selenium or Splinter to do that." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://saisyam.com/proven-way-to-fake-webcam-in-test-automation-with-python/" />
<meta property="article:published_time" content="2020-05-08T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-08T00:00:00+00:00" />

  
  <title>Proven way to Fake Webcam in Test Automation with Python</title>
  <base href="https://saisyam.com/" />
  <script type="application/ld+json">
  
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "Proven way to Fake Webcam in Test Automation with Python",
    "image": "https://saisyam.com/",
    "datePublished": "2020-05-08T00:00:00Z",
    "dateModified": "2020-05-08T00:00:00Z",
    "author": {
      "@type": "Person",
      "name": "Saisyam"
    },
    "mainEntityOfPage": { "@type": "WebPage" },
     "publisher": {
      "@type": "Organization",
      "name": "Saisyam - Personal Blog",
      "logo": {
        "@type": "ImageObject",
        "url": "images/profile.jpg"
      }
    },
    "description": "To test web application with webcam we need to fake webcam with a video. We can use Chrome webdriver settings with Python Selenium or Splinter to do that.",
    "keywords": ["web testing", "splinter", "ffmpeg", "fake-webcam"]
  }
  
  {
    "@context": "https://schema.org",
    "@type": "Website",
    "name": "Saisyam - Personal Blog",
    "url": "https://saisyam.com/",
    "sameAs": [
      "https://www.facebook.com/saisyam.dampuri.5667",
      "https://www.instagram.com/saisyamdampuri",
      "https://twitter.com/saisyam1",
      "https://github.com/saisyam",
      "https://linkedin.com/in/saisyam"
    ]
  }
  </script>
  <link rel="stylesheet" href="css/plugin.css" type="text/css" media="all">
  <link rel="stylesheet" href="css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:400,300,500,600,700">
  <style>
    .nav {
              text-align: center;
              font-family: 'Poppins', serif;
              margin-top: 10%;
          }

          .nav a {
              border:1px solid #1abc9c;
              color: black;
              padding: 5px 11px;
              border-style: 2px solid
          }

          .current {
            background-color: #1abc9c;
          }
          .nav a:hover {
              border:2px solid #1abc9c;
          }
  </style>
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-50423294-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head>
<body>
  <div class="preloader">
    <div class="rounder"></div>
  </div>
  <div id="main">
    <div class="container">
        <div class="row">
          
<div class="col-md-3">
    <div class="about-fixed">
      <div class="my-pic">
         <img src="images/profile.jpg" alt="">
         
         </div>
       
       <div class="my-detail">
         
         <div class="white-spacing">
             <h1>Saisyam D</h1>
             <span>Solutions Architect</span>
         </div> 
        
         <ul class="social-icon"> 
            <li><a href="https://facebook.com/" target="_blank" class="facebook"><i class="fa fa-facebook"></i></a></li>
            <li><a href="https://twitter.com/" target="_blank" class="twitter"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://linkedin.com/in/" target="_blank" class="linkedin"><i class="fa fa-linkedin"></i></a></li>
            <li><a href="https://github.com/" target="_blank" class="github"><i class="fa fa-github"></i></a></li>
            <li><a href="https://instagram.com/" target="_blank" class="instagram"><i class="fa fa-instagram"></i></a></li>
          </ul>
     </div>
   </div>
 </div>
 
          <div class="col-md-9">
            <div class="col-md-12 page-body">
              <div class="row">
                  <div class="sub-title">
    <a href="https://saisyam.com/"><h2>My Blog</h2></a>
</div>
<div class="col-md-12 content-page">
    <div class="col-md-12 blog-post">
        <div class="post-title">
            <h1>Proven way to Fake Webcam in Test Automation with Python</h1> 
        </div>
        <div class="post-info">
            <span>May 8, 2020 | 
                
                    <a href="https://saisyam.com/categories/testing"
                        rel="category">Testing </a>
                
            </span>
        </div>
        

        <p>We automate web application testing using Python Selenium or Splinter. How will you automate testing applications with webcam? You can fake a webcam device with Chrome Web driver. In this article we will see how to do that.</p>
<h2 id="challenge">Challenge</h2>
<p>The challenge here is to fake the webcam with proper video format. In this post I am using Chrome browser along with <a href="https://splinter.readthedocs.io/en/latest/">Splinter</a>.
If you are new to Splinter, check out my article and I promise you love it. We use Splinter not only for testing but also for web scraping. Chrome need Y4M format to replace the camera feed. To generate that format you need <a href="https://www.ffmpeg.org/">ffmpeg</a> tool. Using that tool you can convert any MP4 video into Y4M format.</p>
<blockquote>
<p>Y4M is an un-compressed format. The converted Y4M file size will be almost three times the MP4 file. So, take a small MP4 file or repeat the image to create the video.</p>
</blockquote>





    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-layout="in-article"
        data-ad-format="fluid"
        data-ad-client="ca-pub-0206245742790279"
        data-ad-slot="8377875555"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>





<p>Once you have the Y4M file you can follow the below mentioned steps to fake the webcam. <a href="https://testrtc.com/y4m-video-chrome/">Here</a> is an article on how to create Y4M files using <a href="https://www.ffmpeg.org/">ffmpeg</a>.</p>
<h2 id="chrome-settings-to-fake-webcam">Chrome Settings to fake webcam</h2>
<p>We will set <code>webdriver.ChromeOptions</code> to enable media stream using a fake device.</p>
<script type="application/javascript" src="https://gist.github.com/saisyam/98aa0345e2a470b39d754b35b7910596.js"></script>

<h2 id="conclusion">Conclusion</h2>
<p>You are all set to test the web applications uing a fake video. The complete source code along with the sample web application (using Python Flask) is available as a <a href="https://gitlab.com/saisyam/web-automation-testing/-/tree/master/fake_webcam">gitlab project</a>.</p>


        <div class="nav" style="margin-top: 10px; text-align: left;">
            <h4>Tags:</h4><br />
            
                <a href="https://saisyam.com/tags/web-testing" rel="tag">Web testing</a>
            
                <a href="https://saisyam.com/tags/splinter" rel="tag">Splinter</a>
            
                <a href="https://saisyam.com/tags/ffmpeg" rel="tag">Ffmpeg</a>
            
                <a href="https://saisyam.com/tags/fake-webcam" rel="tag">Fake webcam</a>
            
        </div>
    </div>
    
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "saisyam-1" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
       
</div>

              </div>
              <div class="col-md-8 col-md-offset-2">
                <ul class="social-icon"> 
                  <li><a href="https://facebook.com/saisyam.dampuri.5667" target="_blank" class="facebook"><i class="fa fa-facebook"></i></a></li>
                  <li><a href="https://twitter.com/saisyam1" target="_blank" class="twitter"><i class="fa fa-twitter"></i></a></li>
                  <li><a href="https://linkedin.com/in/saisyam" target="_blank" class="linkedin"><i class="fa fa-linkedin"></i></a></li>
                  <li><a href="https://github.com/saisyam" target="_blank" class="github"><i class="fa fa-github"></i></a></li>
                  <li><a href="https://instagram.com/saisyamdampuri" target="_blank" class="instagram"><i class="fa fa-instagram"></i></a></li>
                </ul>
                  <p style="text-align: center; padding:20px;"><b>&copy; Copyright 2020 Saisyam. All rights reserved</b></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
      
      <a href="#" class="scroll-to-top"><i class="fa fa-long-arrow-up"></i></a>
      
      
      
      
      <script type="text/javascript" src="js/jquery.min.js"></script>
      <script type="text/javascript" src="js/plugin.js"></script>
      
      
      <script type="text/javascript" src="js/scripts.js"></script>
</body>
</html>
