<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Saisyam's personal blog">
  <meta name="robots" content="index,follow" /> 
  <meta name="googlebot" content="index,follow" />
  <meta name="coverage" content="Worldwide" /> 
  <meta name="distribution" content="Global" /> 
  <meta name="HandheldFriendly" content="True" />
  <link rel="icon" href="images/favicon.ico" />
  <link rel="dns-prefetch" href="https://fonts.googleapis.com/">
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
  <link rel="manifest" href="images/site.webmanifest">
   
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Proven way to Fake Webcam in Test Automation with Python"/>
<meta name="twitter:description" content="To test web application with webcam we need to fake webcam with a video. We can use Chrome webdriver settings with Python Selenium or Splinter to do that."/>

  <meta property="og:title" content="Proven way to Fake Webcam in Test Automation with Python" />
<meta property="og:description" content="To test web application with webcam we need to fake webcam with a video. We can use Chrome webdriver settings with Python Selenium or Splinter to do that." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://saisyam.com/proven-way-to-fake-webcam-in-test-automation-with-python/" />
<meta property="article:published_time" content="2020-05-08T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-08T00:00:00+00:00" />

  
  <title>Proven way to Fake Webcam in Test Automation with Python</title>
  <base href="https://saisyam.com/" />
  <script type="application/ld+json">
  
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "Proven way to Fake Webcam in Test Automation with Python",
    "image": "https://saisyam.com/",
    "datePublished": "2020-05-08T00:00:00Z",
    "dateModified": "2020-05-08T00:00:00Z",
    "author": {
      "@type": "Person",
      "name": "Saisyam"
    },
    "mainEntityOfPage": { "@type": "WebPage" },
     "publisher": {
      "@type": "Organization",
      "name": "Saisyam - Personal Blog",
      "logo": {
        "@type": "ImageObject",
        "url": "images/profile.jpg"
      }
    },
    "description": "To test web application with webcam we need to fake webcam with a video. We can use Chrome webdriver settings with Python Selenium or Splinter to do that.",
    "keywords": ["web testing", "splinter", "ffmpeg", "fake-webcam"]
  },
  
  {
    "@context": "https://schema.org",
    "@type": "Website",
    "name": "Saisyam - Personal Blog",
    "url": "https://saisyam.com/",
    "sameAs": [
      "https://www.facebook.com/saisyam.dampuri.5667",
      "https://www.instagram.com/saisyamdampuri",
      "https://twitter.com/saisyam1",
      "https://github.com/saisyam",
      "https://linkedin.com/in/saisyam"
    ]
  }
  </script>
  <link href="https://fonts.googleapis.com/css?family=PT+Serif:400,400i,700,700i&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css" type="text/css" media="all">
</head>

<body>
  <header id="masthead" class="site-header">
    <div id="header-bg" class="site-header-bg" style="background-image:url('images/header-bg.jpg')"></div>
    <div class="site-header-scroll">
      <div class="site-header-inside">
        <div class="site-header-vertical">
            <p class="site-logo">
                <a href='https://saisyam.com/'><img src="images/logo.png"
                    alt="Site Logo" /></a>
            </p>
          <nav id="main-navigation" class="site-navigation" aria-label="Main Navigation">
    <div class="site-nav-wrap">
      <div class="site-nav-inside">
        <ul class="menu">
            <li id="home" class="menu-item">
              <a href="https://saisyam.com/">Home</a>
            </li>
            <li id="about" class="menu-item">
                <a href="https://saisyam.com/about">About Me</a>
            </li>
            <li id="work" class="menu-item">
                <a href="https://saisyam.com/work">My Work</a>
            </li>
        </ul>
        <div class="social-links">
          <a class="button-circle" href="https://twitter.com/saisyam1" target="_blank" rel="noopener">
            <span class="fab fa-twitter" aria-hidden="true"></span>
            <span class="screen-reader-text">Twitter</span>
          </a>
          <a class="button-circle" href="https://facebook.com/saisyam.dampuri.5667" target="_blank" rel="noopener">
            <span class="fab fa-facebook" aria-hidden="true"></span>
            <span class="screen-reader-text">Facebook</span>
          </a>
          <a class="button-circle" href="https://github.com/saisyam" target="_blank" rel="noopener">
            <span class="fab fa-github" aria-hidden="true"></span>
            <span class="screen-reader-text">Github</span>
          </a>
          <a class="button-circle" href="https://linkedin.com/in/saisyam" target="_blank" rel="noopener">
            <span class="fab fa-linkedin" aria-hidden="true"></span>
            <span class="screen-reader-text">LinkedIn</span>
          </a>
          <a class="button-circle" href="https://instagram.com/saisyamdampuri" target="_blank" rel="noopener">
            <span class="fab fa-instagram" aria-hidden="true"></span>
            <span class="screen-reader-text">Instagram</span>
          </a>
        </div>
      </div>
    </div>
  </nav>
  <button id="menu-toggle" class="menu-toggle"><span class="screen-reader-text">Menu</span><span class="icon-menu" aria-hidden="true"></span></button>
        </div>
      </div>
    </div>
  </header>
  <div id="content" class="site-content">
    <main id="main" class="site-main inner">
      
<article class="post post-full">
    <header class="post-header">
      <h1 class="post-title">Proven way to Fake Webcam in Test Automation with Python</h1>
      <div class="post-meta">
        Published on <time class="published"
          datetime="May 8, 2020 ">May 8, 2020</time> |
          
            <a href="https://saisyam.com/categories/testing"
                        rel="category">Testing </a>
          
      </div>
    </header>
    
    <div class="post-content">
        <p>We automate web application testing using Python Selenium or Splinter. How will you automate testing applications with webcam? You can fake a webcam device with Chrome Web driver. In this article we will see how to do that.</p>
<h2 id="challenge">Challenge</h2>
<p>The challenge here is to fake the webcam with proper video format. In this post I am using Chrome browser along with <a href="https://splinter.readthedocs.io/en/latest/">Splinter</a>.
If you are new to Splinter, check out my article and I promise you love it. We use Splinter not only for testing but also for web scraping. Chrome need Y4M format to replace the camera feed. To generate that format you need <a href="https://www.ffmpeg.org/">ffmpeg</a> tool. Using that tool you can convert any MP4 video into Y4M format.</p>
<blockquote>
<p>Y4M is an un-compressed format. The converted Y4M file size will be almost three times the MP4 file. So, take a small MP4 file or repeat the image to create the video.</p>
</blockquote>





    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-layout="in-article"
        data-ad-format="fluid"
        data-ad-client="ca-pub-0206245742790279"
        data-ad-slot="8377875555"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>





<p>Once you have the Y4M file you can follow the below mentioned steps to fake the webcam. <a href="https://testrtc.com/y4m-video-chrome/">Here</a> is an article on how to create Y4M files using <a href="https://www.ffmpeg.org/">ffmpeg</a>.</p>
<h2 id="chrome-settings-to-fake-webcam">Chrome Settings to fake webcam</h2>
<p>We will set <code>webdriver.ChromeOptions</code> to enable media stream using a fake device.</p>
<script type="application/javascript" src="https://gist.github.com/saisyam/98aa0345e2a470b39d754b35b7910596.js"></script>

<h2 id="conclusion">Conclusion</h2>
<p>You are all set to test the web applications uing a fake video. The complete source code along with the sample web application (using Python Flask) is available as a <a href="https://gitlab.com/saisyam/web-automation-testing/-/tree/master/fake_webcam">gitlab project</a>.</p>

    </div>

    <h4>Tags: </h4>
    <nav class="pagination">
      <div class="nav-links">
        
                <a class="button" href="https://saisyam.com/tags/web-testing" rel="tag">Web testing</a>
        
                <a class="button" href="https://saisyam.com/tags/splinter" rel="tag">Splinter</a>
        
                <a class="button" href="https://saisyam.com/tags/ffmpeg" rel="tag">Ffmpeg</a>
        
                <a class="button" href="https://saisyam.com/tags/fake-webcam" rel="tag">Fake webcam</a>
        
      </div>
    </nav>
  </article>

    </main>
    <footer id="colophon" class="site-footer inner">
    <div class="site-footer-inside">
      <span class="copyright">&copy; Saisyam - 2020</span>
        <a href=""></a>
    </div>  
    <a id="to-top" class="to-top" href="#page">To top <span class="icon-arrow-up" aria-hidden="true"></span></a>
  </footer>
  </div>
  
  <script type="text/javascript" src="js/plugins.js"></script>
  <script type="text/javascript" src="js/main.js"></script>
</body>  

</html>
