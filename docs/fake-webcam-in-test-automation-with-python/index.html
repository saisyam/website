<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.2.0
    Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Proven way to Fake Webcam in Test Automation with Python | Saisyam</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Proven way to Fake Webcam in Test Automation with Python" />
<meta name="author" content="Saisyam" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="We automate web application testing using Python Selenium or Splinter. How will you automate testing applications with webcam? You can fake a webcam device with Chrome Web driver. In this article we will see how to do that." />
<meta property="og:description" content="We automate web application testing using Python Selenium or Splinter. How will you automate testing applications with webcam? You can fake a webcam device with Chrome Web driver. In this article we will see how to do that." />
<link rel="canonical" href="https://saisyam.com/fake-webcam-in-test-automation-with-python/" />
<meta property="og:url" content="https://saisyam.com/fake-webcam-in-test-automation-with-python/" />
<meta property="og:site_name" content="Saisyam" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-06-07T00:00:00+05:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Proven way to Fake Webcam in Test Automation with Python" />
<meta name="twitter:site" content="@saisyam1" />
<meta name="twitter:creator" content="@Saisyam1" />
<script type="application/ld+json">
{"headline":"Proven way to Fake Webcam in Test Automation with Python","dateModified":"2020-06-07T00:00:00+05:30","datePublished":"2020-06-07T00:00:00+05:30","url":"https://saisyam.com/fake-webcam-in-test-automation-with-python/","mainEntityOfPage":{"@type":"WebPage","@id":"https://saisyam.com/fake-webcam-in-test-automation-with-python/"},"author":{"@type":"Person","name":"Saisyam"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://saisyam.com/images/s-logo.jpg"},"name":"Saisyam"},"description":"We automate web application testing using Python Selenium or Splinter. How will you automate testing applications with webcam? You can fake a webcam device with Chrome Web driver. In this article we will see how to do that.","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/skins/default.css">
  <style>
    #markdown-toc::before {
        content: "Table of Contents";
        font-weight: bold;
    }

    #markdown-toc ul {
        list-style: decimal;
    }

    #markdown-toc {
        border: 1px solid #aaa;
        padding: 1.5em;
        list-style: decimal;
        display: inline-block;
    }
  </style>
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,700,700i|Lora:400,400i,700,700i">
  <link rel="alternate" type="application/atom+xml" title="Saisyam" href="/atom.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png">
<link rel="manifest" href="images/favicon/site.webmanifest">
<link rel="mask-icon" href="images/favicon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<!-- end custom head snippets -->
<script data-ad-client="ca-pub-0206245742790279" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>


  <body class="layout--post  proven-way-to-fake-webcam-in-test-automation-with-python">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/">Home</a></li><li><a href="/categories/">Categories</a></li><li><a href="/tags/">Tags</a></li><li><a href="/about/">About</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
      <a href="/" class="site-logo" rel="home" title="Saisyam">
        <img src="/images/s-logo.jpg" class="site-logo-img animated fadeInDown" alt="Saisyam">
      </a>
    
    
    
      
        <div class="site-title animated fadeIn"><a href="/">Saisyam</a></div>
      
      <p class="site-description animated fadeIn" itemprop="description">Personal Blog</p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">Proven way to Fake Webcam in Test Automation with Python
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author"><img src="/images/saisyam.jpg" class="author-avatar u-photo" alt="Saisyam"><div class="author-info"><div class="author-name">
        <em>by</em> <span class="p-name">Saisyam</span>
      </div><ul class="author-links"><li class="author-link">
            <a class="u-url" rel="me" href="https://instagram.com/saisyamdampuri"><i class="fab fa-instagram fa-lg" title="Instagram"></i></a>
          </li><li class="author-link">
            <a class="u-url" rel="me" href="https://github.com/saisyam"><i class="fab fa-github-square fa-lg" title="Github"></i></a>
          </li><li class="author-link">
            <a class="u-url" rel="me" href="https://twitter.com/saisyam1"><i class="fab fa-twitter-square fa-lg" title="Twitter"></i></a>
          </li><li class="author-link">
            <a class="u-url" rel="me" href="https://linkedin.com/in/saisyam"><i class="fab fa-linkedin fa-lg" title="LinkedIn"></i></a>
          </li></ul>

<span class="read-time">1 min read</span>

    <time class="page-date dt-published" datetime="2020-06-07T00:00:00+05:30"><a class="u-url" href="">June 7, 2020</a>
</time>

  </div>
</div>

        
  <h3 class="page-taxonomies-title">Categories</h3>
  
  <ul class="page-taxonomies"><li class="page-taxonomy"><a class="p-category" href="/categories/#python" title="Pages filed under Python">Python</a></li>
  </ul>


        
  <h3 class="page-taxonomies-title">Tags</h3>
  
  <ul class="page-taxonomies"><li class="page-taxonomy"><a href="/tags/#fake-webcam" title="Pages tagged Fake webcam" rel="tag">Fake webcam</a></li><li class="page-taxonomy"><a href="/tags/#splinter" title="Pages tagged Splinter" rel="tag">Splinter</a></li><li class="page-taxonomy"><a href="/tags/#web-testing" title="Pages tagged Web Testing" rel="tag">Web Testing</a></li><li class="page-taxonomy"><a href="/tags/#ffmpeg" title="Pages tagged ffmpeg" rel="tag">ffmpeg</a></li>
  </ul>


      </div>

      <div class="page-content">
        <div class="e-content">
          <p>We automate web application testing using Python Selenium or Splinter. How will you automate testing applications with webcam? You can fake a webcam device with Chrome Web driver. In this article we will see how to do that.</p>

<ul id="markdown-toc">
  <li><a href="#challenge" id="markdown-toc-challenge">Challenge</a></li>
  <li><a href="#chrome-settings-to-fake-webcam" id="markdown-toc-chrome-settings-to-fake-webcam">Chrome Settings to fake webcam</a></li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
</ul>

<h2 id="challenge">Challenge</h2>
<p>The challenge here is to fake the webcam with proper video format. In this post I am using Chrome browser along with <a href="https://splinter.readthedocs.io/en/latest/">Splinter</a>.
If you are new to Splinter, check out my article and I promise you love it. We use Splinter not only for testing but also for web scraping. Chrome need Y4M format to replace the camera feed. To generate that format you need <a href="https://www.ffmpeg.org/">ffmpeg</a> tool. Using that tool you can convert any MP4 video into Y4M format.</p>

<blockquote>
  <p>Y4M is an un-compressed format. The converted Y4M file size will be almost three times the MP4 file. So, take a small MP4 file or repeat the image to create the video.</p>
</blockquote>

<p>Once you have the Y4M file you can follow the below mentioned steps to fake the webcam. <a href="https://testrtc.com/y4m-video-chrome/">Here</a> is an article on how to create Y4M files using <a href="https://www.ffmpeg.org/">ffmpeg</a>.</p>

<h2 id="chrome-settings-to-fake-webcam">Chrome Settings to fake webcam</h2>

<p>We will set <code class="language-plaintext highlighter-rouge">webdriver.ChromeOptions</code> to enable media stream using a fake device.</p>

<noscript>
  <pre>400: Invalid request</pre>
</noscript>
<script src="https://gist.github.com/98aa0345e2a470b39d754b35b7910596.js"> </script>

<h2 id="conclusion">Conclusion</h2>
<p>You are all set to test the web applications uing a fake video. The complete source code along with the sample web application (using Python Flask) is available as a <a href="https://gitlab.com/saisyam/web-automation-testing/-/tree/master/fake_webcam">gitlab project</a>.</p>

        </div>

        
          <div class="page-share">
  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fsaisyam.com%2Ffake-webcam-in-test-automation-with-python%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--facebook btn--small"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i> <span>Share</span></a>
  <a href="https://twitter.com/intent/tweet?text=Proven+way+to+Fake+Webcam+in+Test+Automation+with+Python%20https%3A%2F%2Fsaisyam.com%2Ffake-webcam-in-test-automation-with-python%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--twitter btn--small"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> <span>Tweet</span></a>
  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fsaisyam.com%2Ffake-webcam-in-test-automation-with-python%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--linkedin btn--small"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> <span>LinkedIn</span></a>
  <a href="https://reddit.com/submit?title=Proven+way+to+Fake+Webcam+in+Test+Automation+with+Python&url=https%3A%2F%2Fsaisyam.com%2Ffake-webcam-in-test-automation-with-python%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--reddit btn--small"><i class="fab fa-fw fa-reddit" aria-hidden="true"></i> <span>Reddit</span></a>
</div>

        

        
          

        

        <nav class="page-pagination" role="navigation">
  

  
    <a class="page-next" href="/sentiment-analysis-using-python-vader/">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        Sentiment Analysis using Python Vader
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons"><a class="social-icon" href="https://instagram.com/saisyamdampuri"><i class="fab fa-instagram fa-2x" title="Instagram"></i></a><a class="social-icon" href="https://github.com/saisyam"><i class="fab fa-github-square fa-2x" title="Github"></i></a><a class="social-icon" href="https://twitter.com/saisyam1"><i class="fab fa-twitter-square fa-2x" title="Twitter"></i></a><a class="social-icon" href="https://linkedin.com/in/saisyam"><i class="fab fa-linkedin fa-2x" title="LinkedIn"></i></a><a class="social-icon" href="/atom.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a></div><div class="copyright">
    
      <p>&copy; 2021 Saisyam. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a>.</p>
    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>


  </body>

</html>
